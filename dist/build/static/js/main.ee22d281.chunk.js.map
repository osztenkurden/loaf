{"version":3,"sources":["API/DevHandler.ts","API/Loaf.ts","API/index.ts","Modules/Drawer/index.tsx","Theme/assets/load_icon.svg","Modules/Message/Request.tsx","Modules/Message/Announcement.tsx","Modules/Utils.tsx","Modules/Message/FriendMessage.tsx","Modules/Message/Message.tsx","API/ChatImages.ts","Modules/Chat/AppBar.tsx","Modules/Chat/UploadImagePreview.tsx","Modules/Chat/DragUploadModal.tsx","Modules/Chat/Chat.tsx","Theme/Components/Avatar.tsx","Modules/Chat/ChatsListEntry.tsx","Modules/Chat/ChatsList.tsx","Theme/Components/LoafButton.tsx","Modules/NewContact/index.tsx","Modules/NewConversation/index.tsx","Modules/Main/index.tsx","Modules/Login/index.tsx","Modules/Register/index.tsx","Modules/Splash/index.tsx","App.tsx","Window.tsx","Theme/index.ts","index.tsx"],"names":["ActionHandler","actions","this","Map","eventName","callback","set","action","get","args","devIpcRenderer","Dev","execute","on","admin","id","username","firstName","registrationId","identityKey","banned","lastName","messages","uuid","senderId","content","type","data","size","name","chatId","my","date","Date","toISOString","sender","chats","last","image","creatorId","private","status","users","unread","fakeRequire","ipcRenderer","window","require","api","sync","sendSync","send","event","vals","session","getCookie","Loaf","accept","createGroup","loadImage","loadPageOfMessages","page","message","call","make","reject","answer","error","user","add","userId","authenticate","authCode","getUserByName","load","logout","logIn","password","register","pwd","Drawer","menu","text","icon","GroupAdd","props","newConversation","PersonAdd","newContact","secondMenu","PermMedia","Settings","Cancel","ContactSupport","className","Divider","List","map","menuEl","ListItem","button","key","onClick","ListItemIcon","classes","root","ListItemText","primary","Component","Request","chat","CheckCircleRounded","style","color","cursor","BlockRounded","Announcement","request","questionMark","textToRGB","i","c","str","hash","length","charCodeAt","hashCode","toString","toUpperCase","substring","scrollToBottom","top","messageContainer","document","getElementById","scroll","bottom","scrollHeight","scrollTop","clientHeight","filePreview","file","fileData","fileType","substr","indexOf","Audiotrack","InsertDriveFile","fileIcon","bytesToString","renderGallery","filter","payload","startsWith","src","alt","bytes","unit","toFixed","FriendMessage","renderAvatar","Avatar","renderContent","Message","storage","images","onLoad","loading","img","LoafAppBar","AppBar","position","Toolbar","paddingTop","paddingBottom","backgroundColor","charAt","inset","secondary","React","DragUploadModal","renderEntry","setFiles","backgroundImage","sendFiles","state","highlight","e","stopPropagation","CloudUpload","isLoading","Chat","allow","preventDefault","whileOver","evt","setState","drop","dataTransfer","handleFiles","files","componentDidMount","setTimeout","filesToSend","readFile","index","reader","FileReader","readAsDataURL","onload","result","push","getAllMessagesCount","pages","reduce","a","b","loadMoreMessages","loadMoreByScroll","_inView","entry","intersectionRatio","form","handleKeyDown","textMessage","sendMessages","console","log","filePayload","handleChange","target","value","onDragOver","onDragEnter","onDragOverCapture","onDragEnd","onDragLeave","onDrop","find","pageEntry","threshold","trackVisibility","delay","as","onChange","Fragment","msg","dateToCheck","moment","format","allMessages","flat","messageIndex","isThisFirstDateOccurence","chatName","TextField","onKeyDown","placeholder","fullWidth","variant","InputLabelProps","shrink","InputProps","inputProps","LoafAvatar","getSubText","ChatsListEntry","getMessagesFromLastPage","maxPage","Math","max","lastPage","getLast","getLastTag","isCurrent","loadChat","fromNow","ChatsList","allUsers","Set","undefined","chatImage","currentChat","LoafButton","main","big","rest","Button","disableElevation","children","NewContact","ev","addContact","onClose","closeDrawer","Paper","DialogTitle","DialogContent","width","disabled","startAdornment","InputAdornment","DialogActions","NewConversation","toggleChatEntry","selectedChats","includes","createConversation","userIds","dense","ListItemAvatar","ListItemSecondaryAction","IconButton","edge","aria-label","Remove","Add","addPageToChat","existingEntry","didLastPageChange","newPages","maxNewPage","newMaxPageEntry","lastPageEntry","currentUUIDs","newUUIDs","currentUUID","Main","setContactModal","newContactModal","setConversationModal","newConversationModal","toggleDrawer","drawer","container","newChats","newInCurrent","newCurrentChat","indexOfCurrentChat","findIndex","chatPage","targetChat","sort","Menu","Typography","noWrap","logo","Search","SwipeableDrawer","open","onOpen","paper","Modal","Login","keyPress","field","API","validate","authentication","required","onKeyPress","togglePage","Register","renderError","done","qrcode","renderForm","marginTop","QRCode","toDataURL","url","Backdrop","CircularProgress","SplashScreen","LinearProgress","App","getUser","loggedInUser","remote","WindowApp","minimize","getCurrentWindow","maximize","isMaximized","restore","close","showError","theme","createMuiTheme","overrides","MuiAppBar","positionFixed","borderBottom","borderImage","boxShadow","left","right","positionRelative","MuiButton","textPrimary","MuiDivider","marginRight","MuiListItem","transition","MuiListItemIcon","marginLeft","transform","MuiTypography","palette","dark","light","typography","fontFamily","Theme","ReactDOM","render"],"mappings":"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","file":"static/js/main.ee22d281.chunk.js","sourcesContent":["/* tslint:disable */\r\nimport { IMessage } from \"../../modules/interface\";\r\n\r\nclass ActionHandler {\r\n    actions: Map<string, Function>;\r\n    constructor(){\r\n        this.actions = new Map();\r\n    }\r\n    init(){\r\n\r\n    }\r\n    on(eventName: string, callback: (...args: any[]) => any){\r\n        this.actions.set(eventName, callback);\r\n    }\r\n    execute(eventName: string, ...args: any[]){\r\n        const action = this.actions.get(eventName);\r\n        if(!action) return null;\r\n        return action(...args);\r\n    }\r\n}\r\nclass IPCRenderer {\r\n    actions: Map<string, Function>;\r\n    constructor(){\r\n        this.actions = new Map();\r\n    }\r\n    sendSync(eventName: string, ...args: any[]){\r\n        return Dev.execute(eventName, ...args);\r\n    }\r\n    send(eventName: string, ...args: any[]){\r\n        return Dev.execute(eventName, ...args);\r\n    }\r\n    on(eventName: string, callback: (event: any, ...args: any) => void){\r\n        this.actions.set(eventName, callback)\r\n    }\r\n    execute(eventName: string, ...args: any[]){\r\n        const action = this.actions.get(eventName);\r\n        if(!action) return null;\r\n        return action(null, ...args);\r\n    }\r\n\r\n\r\n}\r\nconst devIpcRenderer = new IPCRenderer();\r\nconst Dev = new ActionHandler();\r\n\r\nDev.on(\"getUser\", () => {\r\n    return {\r\n        admin: false,\r\n        id: 1,\r\n        username: 'Test User',\r\n        firstName: 'Jan',\r\n        registrationId: 34,\r\n        identityKey: 'ddd',\r\n        banned: false,\r\n        lastName: 'Kowalsky'\r\n    }\r\n});\r\n\r\nDev.on(\"getChats\", () => {\r\n    const messages: IMessage[] = [{\r\n        uuid: 'sdf43w5=e345e4-65464',\r\n        id: 1,\r\n        senderId: 1,\r\n        content: {\r\n            type: \"mixed\",\r\n            content: [\r\n                {\r\n                    type:\"text\",\r\n                    content:\"XD\"\r\n                },\r\n                {\r\n                    type: \"file\",\r\n                    content:{\r\n                        data: \"data:audio/wav;base64,UklGRuTFHgFXQVZFSlVOSxwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\r\n                        size: 69,\r\n                        name: 'xdf.mp3'\r\n                    }\r\n                },\r\n                {\r\n                    type: \"file\",\r\n                    content:{\r\n                        data: \"data:audiox/wav;base64,UklGRuTFHgFXQVZFSlVOSxwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\",\r\n                        size: 69,\r\n                        name: 'xdfasdasdasd.mp3'\r\n                    }\r\n                },\r\n                {\r\n                    type: \"file\",\r\n                    content:{\r\n                        size: 69,\r\n                        name: 'sdfsdfs',\r\n                        data: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAQAAAD+k96sAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkAg8WFhR9Sw5qAAAD4klEQVR42u2bTWhVRxSAv/jEkPeoxp+ApqGgtMFoRKORRCzSRcG0Cy0tuCh0WySCdtdEKuJGrcSFIAhtQcGAFFpL4kLQ2ig1pC30h9dU8AeiRpqfFqttjTGa3C4erUWomXPvnXvvKecbyGrezHyZmXfPnDsPDMMwDCN2yry2nmcVK3iOGmqoJk8FFVQwxQPGGed3hhhmiBv08xO/aBStpIWNrGUpOefPjPI1PfRQZErDCplNK1/wkCB0GeUIGzyvtIg08CF/RlD8dxlkJ/OyKLmKrpgUH5d7HGZRliSr+Zip2DVL5Q/aKc/Gt/ZW7nqS/LtcoyltzQV87lmyVB7Sxoz0NNdwIxHNUvkkrSX8KvcT1AwIOM+c5DU38SBhzYCAPiqSns2JFDQDAj4Lu1dzIT5Tz+mk/7P/sJRZnEvqm/Z6SrNZKpOsT0b001Q1S8/VvH/Nt1LXDAho8605n98yIXqbSunQZ4pq75J3AMA4PVzkO64zzBhlzKWS+aykmWZeCNHeXHawx998Lgn17LxCK4WntNrIsRChx6DPkPCDEMN53WlAz3JG3HaLv/05JhxKp2Chl7GDR6LWj/sSbRdqbhf3sIVJQftDvkSviDTfCdXHe6I+lvnJB0mG8H7IXnJ8K+jlbR+i+wUD6I9wcmwR9HPQh+iPzt0/ojFST9ecezoVv2aVIPnVGbGvA4KVI8DtsfuSIKHcEVH0onPNOfGLumfhivwQUfSyc81n4hetd26vO/I2+dm5ZiF+0RXO7V2ILDrmXFP0Mmqm4x4tUKBAftq/xcii7vN0P37Rqwlmhdzj4zvxL91k01+u3NItutq55oBu0c3ONb9HMbWCWHe9ZtETggRZTq/mi4KY+qhezdkMCBbuGq2aM+gWaPbqnc8OUQ5ji1bNXSLN3mzfQ/pv9oo0JwSnqQxRzjFhInWfRs2F9Ak1v2SWPs1Gbgk1B6jSp7mNcaHmHUEKICNUclL8WulXfUFCU4h7EEMs16bZGuI9az9LdEnm6QzxMrlLltpMnxqKIa7b7NEWB9WG2JkjvKxtZzYwItY8l60b2C6sE19fnuDdDGa0pmEZt4WalzUerKu4KdT8SPZeJSuZg7PCMO8NnWdN2W2WIs/r1KwTBe4nkri36YfzAs1DWhMk8JpAc7fevF4ZlwSzqZhXBBdpcppFTztq3tR2Nnkyh+D6K9LNqOZN57Omco46ijZoF3U7Yn+TXCTqh3LqnOp1axdd7Hix5yvtotWO9S5pF3VLgQSMYhiGYRiGYRh+8JVJDVIfQUJBfeYwURM1URM1URM1URM1URM1URM1URM1URM1DOP/zl+IROP1bg+NpwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xNVQyMjoyMjoyMCswMDowMBpZaTEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMTVUMjI6MjI6MjArMDA6MDBrBNGNAAAAAElFTkSuQmCC\"\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        chatId: 1,\r\n        my: true,\r\n        date: new Date().toISOString(),\r\n        sender: {\r\n            id: 1,\r\n            username: 'Test User #1'\r\n        }\r\n    }]\r\n    const chats = [{\r\n        id:1,\r\n        name: 'Bakery',\r\n        last: messages[0],\r\n        image: false,\r\n        creatorId: 1,\r\n        private: false,\r\n        status: 2,\r\n        users: [],\r\n        unread: false,\r\n        messages\r\n    }]\r\n    devIpcRenderer.execute(\"chats\", chats);\r\n})\r\n\r\nfunction fakeRequire(){\r\n    return {\r\n        ipcRenderer: devIpcRenderer,\r\n        remote: {\r\n            getCurrentWindow: () => ({\r\n                minimize: () => {console.log('minimize')},\r\n                isMaximized: () => {console.log('what')},\r\n                restore: () => {console.log('restore')},\r\n                maximize: () => {console.log('maximize')},\r\n                close: () => {console.log('close')},\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport {devIpcRenderer}\r\nexport default fakeRequire;","import fakeRequire from \"./DevHandler\";\r\ndeclare let window: any;\r\nif(process.env.REACT_APP_DEV === \"true\"){\r\n    window.require = fakeRequire;\r\n}\r\nconst electron = window.require(\"electron\");\r\nconst ipcRenderer = electron.ipcRenderer;\r\n\r\nexport const api = (eventName: string, sync: boolean, ...args: any[]) => {\r\n    if(!ipcRenderer) return;\r\n    if (sync) {\r\n        return ipcRenderer.sendSync(eventName, ...args);\r\n    }\r\n    ipcRenderer.send(eventName, ...args);\r\n    return;\r\n    // return new Promise((res, rej) => {\r\n        /*ipcRenderer.on(`${eventName}`, (event, ...vals) => {\r\n            //\r\n            ipcRenderer.removeAllListeners(`${eventName}`);\r\n        });*/\r\n   // });\r\n};\r\n\r\nexport const on = (eventName: string, callback: (...args: any[]) => void) => {\r\n    if(!ipcRenderer) return;\r\n    ipcRenderer.on(eventName, (event: any, ...vals: any[]) => {\r\n        callback(...vals);\r\n    });\r\n};\r\n","import * as I from \"../../modules/interface\";\r\nimport * as Loaf from \"./Loaf\";\r\n\r\nconst api = {\r\n    session: {\r\n        getCookie: () => Loaf.api(\"getCookie\", true)\r\n    },\r\n    chats: {\r\n        accept: (chatId: number) => Loaf.api(\"acceptChat\", false, chatId),\r\n        createGroup: (name: string, users: number[]) => Loaf.api(\"createGroup\", false, name, users),\r\n        get: () => Loaf.api(\"getChats\", false),\r\n        loadImage: (chatId: number) => Loaf.api(\"loadImage\", false, chatId),\r\n        loadPageOfMessages: (chatId: number, page: number) => Loaf.api(\"loadPageOfMessages\", false, chatId, page),\r\n    },\r\n    message: {\r\n        send: (chatId: number, message: I.IMessageContent) => Loaf.api(\"sendMessage\", false, chatId, message),\r\n    },\r\n    call: {\r\n      make: (data: I.CallDescription) => Loaf.api('call-to-user', false, data),\r\n      reject: () => Loaf.api('reject-call', false),\r\n      answer: (data: I.CallDescription) => Loaf.api('exchange-offer', false, data),\r\n      accept: (data: I.CallDescription) => Loaf.api('accept-call', false, data),\r\n      error: () => Loaf.api('errortest', false)\r\n    },\r\n    user: {\r\n        add: (userId: number | string) => Loaf.api(\"addUser\", false, userId),\r\n        authenticate: (authCode: number) => Loaf.api(\"authenticateUser\", false, authCode),\r\n        get: () => Loaf.api(\"getUser\", true),\r\n        getUserByName: (name: string) => Loaf.api(\"getUserByName\", false, name),\r\n        load: () => Loaf.api(\"loadUser\", false),\r\n        logout: () => Loaf.api(\"logout\", false),\r\n        logIn: (username: string, password: string) => Loaf.api(\"logInUser\", false, username, password),\r\n        register: (username: string, pwd: string, name: string) => Loaf.api(\"register\", false, username, pwd, name ),\r\n    },\r\n};\r\n\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport { ListItemIcon, List, Divider, ListItem, ListItemText } from '@material-ui/core';\r\nimport { Settings, GroupAdd, PersonAdd, Cancel, ContactSupport, PermMedia } from '@material-ui/icons';\r\nimport api from 'API';\r\n\r\ninterface IProps {\r\n    newContact: () => void,\r\n    newConversation: () => void,\r\n}\r\n\r\ntype MenuEntry = {\r\n  text: string,\r\n  icon: any,\r\n  action?: () => any | Promise<any>\r\n}\r\n\r\n\r\nexport default class Drawer extends Component<IProps> {\r\n    render(){\r\n        const menu: MenuEntry[] = [{\r\n            text:\"New Conversation\",\r\n            icon:GroupAdd,\r\n            action: this.props.newConversation\r\n          },{\r\n            text:\"Add Contact\",\r\n            icon: PersonAdd,\r\n            action: this.props.newContact\r\n          }];\r\n\r\n          const secondMenu: MenuEntry[] = [{\r\n            text:\"Media\",\r\n            icon:PermMedia\r\n          },{\r\n            text:\"Settings\",\r\n            icon:Settings\r\n          },{\r\n            text:\"Logout\",\r\n            icon:Cancel,\r\n            action: api.user.logout\r\n          },{\r\n            text:\"About LOAF\",\r\n            icon: ContactSupport\r\n          }];\r\n        return(<div className='sidenav'>\r\n          <div className='userView'>\r\n            <div className='background'></div>\r\n              <span className='firstName'>Hubert</span>\r\n              <span className='username'>@osztenkurden</span>\r\n          </div>\r\n          <Divider />\r\n          <List>\r\n            {menu.map((menuEl) => (\r\n              <ListItem button key={menuEl.text} className='menu' onClick={menuEl.action}>\r\n                <ListItemIcon  classes={{root:'menu-icon'}}><menuEl.icon /></ListItemIcon>\r\n                <ListItemText classes={{primary:'menu-entry'}} primary={menuEl.text} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n          <Divider />\r\n          <List>\r\n            {secondMenu.map((menuEl) => (\r\n              <ListItem button key={menuEl.text} className='menu' onClick={menuEl.action}>\r\n                <ListItemIcon classes={{root:'menu-icon'}}><menuEl.icon /></ListItemIcon>\r\n                <ListItemText classes={{primary:'menu-entry'}} primary={menuEl.text} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n          </div>);\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/load_icon.f5b74f47.svg\";","import { BlockRounded, CheckCircleRounded } from \"@material-ui/icons\";\r\nimport React, { Component } from \"react\";\r\nimport * as I from \"./../../../modules/interface\";\r\n\r\ninterface IProps {\r\n    chat: I.IChatPaged;\r\n    accept: (chatId: number) => void;\r\n}\r\n\r\nexport default class Request extends Component<IProps> {\r\n    public render() {\r\n        const { chat, accept } = this.props;\r\n        return <div className={\"announcement message\"}>\r\n            <div>\r\n                <p>You've got a request from <strong>{chat.name}</strong>. Accept?</p>\r\n                <p>\r\n                    <CheckCircleRounded\r\n                        style={{ color: \"#2fc52f\", cursor: 'pointer' }}\r\n                        onClick={() => accept(chat.id)} />\r\n                    <BlockRounded style={{ color: \"red\", cursor: 'pointer' }} />\r\n                </p>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport api from \"./../../API\";\r\nimport Request from \"./Request\";\r\n\r\nexport default class Announcement extends Component<{ request: boolean, chat: I.IChatPaged }> {\r\n    public render() {\r\n        const { chat, request } = this.props;\r\n        if (request) {\r\n            return <Request chat={chat} accept={() => api.chats.accept(chat.id)}/>;\r\n        }\r\n        return <div className={\"announcement message\"}>\r\n            <p>{\r\n                chat.status === 5 ?\r\n                `${chat.name} still hasn't accepted your request`\r\n                : \"No messages\"\r\n                }\r\n            </p>\r\n        </div>;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport * as I from '../../modules/interface';\r\nimport { Audiotrack, InsertDriveFile } from \"@material-ui/icons\";\r\n\r\nexport function hashCode(str: string) { // java String#hashCode\r\n    let hash = 0;\r\n    for (let i = 0; i < str.length; i++) {\r\n        // tslint:disable-next-line:no-bitwise\r\n        hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n    }\r\n    return hash;\r\n}\r\nexport const questionMark = 'iVBORw0KGgoAAAANSUhEUgAAAHQAAAB0CAQAAAD+k96sAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfkAg8WFhR9Sw5qAAAD4klEQVR42u2bTWhVRxSAv/jEkPeoxp+ApqGgtMFoRKORRCzSRcG0Cy0tuCh0WySCdtdEKuJGrcSFIAhtQcGAFFpL4kLQ2ig1pC30h9dU8AeiRpqfFqttjTGa3C4erUWomXPvnXvvKecbyGrezHyZmXfPnDsPDMMwDCN2yry2nmcVK3iOGmqoJk8FFVQwxQPGGed3hhhmiBv08xO/aBStpIWNrGUpOefPjPI1PfRQZErDCplNK1/wkCB0GeUIGzyvtIg08CF/RlD8dxlkJ/OyKLmKrpgUH5d7HGZRliSr+Zip2DVL5Q/aKc/Gt/ZW7nqS/LtcoyltzQV87lmyVB7Sxoz0NNdwIxHNUvkkrSX8KvcT1AwIOM+c5DU38SBhzYCAPiqSns2JFDQDAj4Lu1dzIT5Tz+mk/7P/sJRZnEvqm/Z6SrNZKpOsT0b001Q1S8/VvH/Nt1LXDAho8605n98yIXqbSunQZ4pq75J3AMA4PVzkO64zzBhlzKWS+aykmWZeCNHeXHawx998Lgn17LxCK4WntNrIsRChx6DPkPCDEMN53WlAz3JG3HaLv/05JhxKp2Chl7GDR6LWj/sSbRdqbhf3sIVJQftDvkSviDTfCdXHe6I+lvnJB0mG8H7IXnJ8K+jlbR+i+wUD6I9wcmwR9HPQh+iPzt0/ojFST9ecezoVv2aVIPnVGbGvA4KVI8DtsfuSIKHcEVH0onPNOfGLumfhivwQUfSyc81n4hetd26vO/I2+dm5ZiF+0RXO7V2ILDrmXFP0Mmqm4x4tUKBAftq/xcii7vN0P37Rqwlmhdzj4zvxL91k01+u3NItutq55oBu0c3ONb9HMbWCWHe9ZtETggRZTq/mi4KY+qhezdkMCBbuGq2aM+gWaPbqnc8OUQ5ji1bNXSLN3mzfQ/pv9oo0JwSnqQxRzjFhInWfRs2F9Ak1v2SWPs1Gbgk1B6jSp7mNcaHmHUEKICNUclL8WulXfUFCU4h7EEMs16bZGuI9az9LdEnm6QzxMrlLltpMnxqKIa7b7NEWB9WG2JkjvKxtZzYwItY8l60b2C6sE19fnuDdDGa0pmEZt4WalzUerKu4KdT8SPZeJSuZg7PCMO8NnWdN2W2WIs/r1KwTBe4nkri36YfzAs1DWhMk8JpAc7fevF4ZlwSzqZhXBBdpcppFTztq3tR2Nnkyh+D6K9LNqOZN57Omco46ijZoF3U7Yn+TXCTqh3LqnOp1axdd7Hix5yvtotWO9S5pF3VLgQSMYhiGYRiGYRh+8JVJDVIfQUJBfeYwURM1URM1URM1URM1URM1URM1URM1URM1DOP/zl+IROP1bg+NpwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMi0xNVQyMjoyMjoyMCswMDowMBpZaTEAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDItMTVUMjI6MjI6MjArMDA6MDBrBNGNAAAAAElFTkSuQmCC';\r\nexport function textToRGB(i: string) {\r\n    // tslint:disable-next-line:no-bitwise\r\n    const c = (hashCode(i) & 0x00FFFFFF)\r\n        .toString(16)\r\n        .toUpperCase();\r\n\r\n    return \"#\" + \"00000\".substring(0, 6 - c.length) + c;\r\n}\r\nexport const scrollToBottom  = (top = 0) => {\r\n    const messageContainer = document.getElementById(\"message_container\");\r\n    if(!messageContainer) return 0;\r\n    if(top){\r\n        messageContainer.scroll({ top });\r\n        return;\r\n    }\r\n    const bottom = messageContainer.scrollHeight - messageContainer.scrollTop - messageContainer.clientHeight;\r\n\r\n    if(bottom <= 100){\r\n        messageContainer.scroll({ top: messageContainer.scrollHeight });\r\n    }\r\n    return;\r\n}\r\nexport const fileIcon = (fileType: string) => {\r\n    if(fileType === \"audio\") {\r\n        return <Audiotrack />;\r\n    }\r\n    return <InsertDriveFile />;\r\n}\r\n\r\nexport const filePreview = (file: I.IMessageContentFileMeta) => {\r\n    const fileData = file.data;\r\n    const fileType = fileData.substr(fileData.indexOf(':') + 1, fileData.indexOf('/') - fileData.indexOf(':') - 1);\r\n    return (\r\n        <div className=\"file-preview\">\r\n            <div className=\"file-icon\">\r\n                {fileIcon(fileType)}\r\n            </div>\r\n            <div className=\"file-data\">\r\n                <div className=\"file-name\">\r\n                    {file.name}\r\n                </div>\r\n                <div className=\"file-size\">\r\n                    {bytesToString(file.size)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function renderGallery(message: I.IMessageContentPackage[]) {\r\n    const isFile = (file: I.IMessageContentPackage): file is I.IMessageContentFile => file.type === \"file\";\r\n    return <div className=\"many-msg-types\">\r\n        {message.filter(isFile).map(payload => {\r\n            const fileData = payload.content.data;\r\n            if (fileData.startsWith(\"data:image\")) {\r\n                return <img src={fileData} alt={'Upload'} />\r\n            }\r\n            return filePreview(payload.content);\r\n        })}\r\n        {message.filter(payload => payload.type === \"text\").map(payload => <p>{payload.content}</p>)}\r\n\r\n    </div>\r\n}\r\n\r\nexport function bytesToString(bytes: number) {\r\n    function toHigherOrder(lowerBytes: number) {\r\n        return (lowerBytes / 1024);\r\n    }\r\n\r\n    const units = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\"];\r\n\r\n    for (const unit of units) {\r\n        if (bytes < 1024) {\r\n            return `${bytes.toFixed(1)} ${unit}`;\r\n        }\r\n        bytes = toHigherOrder(bytes);\r\n    }\r\n\r\n    return `${bytes.toFixed(1)} PB`;\r\n}","import React, { Component } from \"react\";\r\nimport { textToRGB, renderGallery, questionMark } from './../Utils';\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport * as I from \"./../../../modules/interface\";\r\n\r\nexport default class FriendMessage extends Component<{message: I.IMessage, sender: { username: string, id: number}}>{\r\n    renderAvatar = () => {\r\n        const { sender } = this.props;\r\n        \r\n        \r\n        //TODO: Avatar as URL and fallback\r\n        \r\n        return <Avatar src={``} className=\"avatar\"/>\r\n        \r\n        /*return <Avatar className=\"avatar\" style={{ backgroundColor: textToRGB(sender.username) }}>\r\n            {sender.username?.charAt(0).toUpperCase() || `#${sender.id}`}\r\n        </Avatar>*/\r\n    }\r\n    renderContent = () => {\r\n        const { message } = this.props;\r\n        switch(message.content.type){\r\n            case \"text\":\r\n                return <p>{message.content.content}</p>\r\n            case \"file\":\r\n                return <div><img src={message.content.content.data.startsWith('data:image') ? message.content.content.data : `data:image/jpeg;base64,${questionMark}`} alt={'Upload'}/></div>\r\n            case \"mixed\":\r\n                return renderGallery(message.content.content);\r\n        }\r\n    }\r\n    public render(){\r\n        const { message, sender } = this.props;\r\n        return <div className={`message friend ${message.content.type}`}>\r\n            {this.renderAvatar()}\r\n            <div className=\"message-container\">\r\n                <div className=\"message-sender-name\">\r\n                    {sender.username}\r\n                </div>\r\n                {this.renderContent()}\r\n            </div>\r\n        </div>;\r\n    }\r\n}","import { questionMark, renderGallery } from \"Modules/Utils\";\r\nimport React, { Component } from \"react\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport FriendMessage from './FriendMessage'\r\n\r\nexport default class Message extends Component<{message: I.IMessage, chatName: string}, any> {\r\n    renderContent = () => {\r\n        const { message } = this.props;\r\n        switch(message.content.type){\r\n            case \"text\":\r\n                return <p>{message.content.content}</p>\r\n            case \"file\":\r\n                return <div><img src={message.content.content.data.startsWith('data:image') ? message.content.content.data : `data:image/jpeg;base64,${questionMark}`} alt={'Upload'}/></div>\r\n            case \"mixed\":\r\n                return renderGallery(message.content.content);\r\n        }\r\n    }\r\n    public render() {\r\n        const { message } = this.props;\r\n        /*if(message.content.type === \"mixed\") return <div className={\"message\"}>\r\n            <p>Not supported yet</p>\r\n        </div>;*/\r\n        if(!message.my && message.sender) return <FriendMessage message={message} sender={message.sender}/>\r\n        return <div className=\"message\">\r\n            {this.renderContent()}\r\n        </div>\r\n    }\r\n}\r\n","\r\nimport api from './';\r\nimport * as Loaf from \"./Loaf\";\r\ninterface ChatImage {\r\n    loading: boolean;\r\n    image: string | null;\r\n}\r\n\r\nclass ChatImageStorage {\r\n    images: Map<number, ChatImage>;\r\n    onLoad?: () => void;\r\n    constructor(){\r\n        this.images = new Map();\r\n        this.onLoad = () => {}\r\n        Loaf.on(\"imageLoaded\", (data: {id: number, image: string|null}) => {\r\n            this.images.set(data.id, {loading:false, image:data.image});\r\n            if(this.onLoad) this.onLoad();\r\n        });\r\n    }\r\n    set(onLoad: () => void){\r\n        this.onLoad = onLoad;\r\n        return this;\r\n    }\r\n    get(chatId: number){\r\n        const img = this.images.get(chatId);\r\n        if(!img) return this.load(chatId);\r\n        if(img.loading){ return null};\r\n        return img.image;\r\n    }\r\n\r\n    private load(chatId: number){\r\n        this.images.set(chatId, {loading: true, image: null});\r\n        api.chats.loadImage(chatId);\r\n        return null;\r\n    }\r\n}\r\nconst storage = new ChatImageStorage();\r\nexport default storage;\r\n\r\nexport { ChatImageStorage };\r\n","import React from 'react';\r\nimport { AppBar, Toolbar, ListItem, Avatar } from '@material-ui/core';\r\nimport { textToRGB } from 'Modules/Utils';\r\nimport * as I from \"./../../../modules/interface\";\r\nimport { ListItemText } from '@material-ui/core';\r\nimport storage from \"./../../API/ChatImages\";\r\n\r\ninterface IProps {\r\n    chat: I.IChatPaged;\r\n}\r\n\r\nexport default class LoafAppBar extends React.Component<IProps> {\r\n    public render(){\r\n        const { chat } = this.props;\r\n        return <AppBar position=\"relative\" >\r\n            <Toolbar className=\"bar\">\r\n                <ListItem style={{paddingTop:0,paddingBottom:0}}>\r\n                    {chat.image ?\r\n                    <Avatar src={`data:image/jpeg;base64,${storage.get(chat.id)}`} className='avatar' /> :\r\n                    <Avatar className=\"avatar\" style={{ backgroundColor: textToRGB(chat.name) }}>\r\n                    {chat.name.charAt(0)?.toUpperCase() || '#'}</Avatar>}\r\n                    <ListItemText inset\r\n                        className=\"chat-text-item\"\r\n                        primary={\r\n                            <div className={\"chat-name\"}>\r\n                                <div className=\"chat-name-text\">{chat.name}</div>\r\n                            </div>\r\n                        } secondary={\r\n\r\n                            <div className=\"chat-last-message\">\r\n                                <div className=\"text\">\r\n                                    { chat.last?.my ?\r\n                                        <span className=\"you\">Ty:</span>\r\n                                    : \"\" } Last seen 10 minutes ago</div>\r\n                            </div>} />\r\n                </ListItem>\r\n            </Toolbar>\r\n        </AppBar>\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport { FilePayloadData } from './Chat';\r\nimport { bytesToString, questionMark } from './../Utils';\r\nimport { Cancel } from '@material-ui/icons';\r\n\r\ninterface IProps {\r\n    images: FilePayloadData[];\r\n    setFiles: (files: FilePayloadData[]) => void;\r\n    sendFiles: () => void;\r\n}\r\n\r\nexport default class DragUploadModal extends Component<IProps> {\r\n    public render() {\r\n        const { images, sendFiles } = this.props;\r\n        return (\r\n            <div className=\"upload-image-preview\">\r\n                <div className=\"upload-entries-preview\">\r\n                    {images.map(this.renderEntry)}\r\n                </div>\r\n                <div className=\"image-send btn-behaviour\" onClick={() => null}>SEND</div>\r\n            </div>\r\n        );\r\n    }\r\n    private renderEntry = (file: FilePayloadData) => {\r\n        const { images, setFiles } = this.props;\r\n        return <div className=\"upload-entry-preview\">\r\n            <div className=\"preview-image-container\">\r\n                <div className=\"preview-image\" style={{backgroundImage: file.data.startsWith('data:image') ? `url(${file.data})` : `url(data:image/jpeg;base64,${questionMark})`}}></div>\r\n            </div>\r\n            <div className=\"preview-data-container\">\r\n                <div className=\"preview-data-name\">{file.name}</div>\r\n                <div className=\"preview-data-size\">{bytesToString(file.size)}</div>\r\n            </div>\r\n            <div className=\"preview-action-container\">\r\n                <div className=\"cancel-file\" onClick={() => setFiles(images.filter(img => img !== file))}><Cancel /></div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { CloudUpload } from \"@material-ui/icons\";\r\nimport { FilePayloadData } from './Chat';\r\nimport UploadImagePreview from './UploadImagePreview';\r\n\r\ninterface IProps {\r\n    images: FilePayloadData[];\r\n    setFiles: (files: FilePayloadData[]) => void;\r\n    sendFiles: () => void;\r\n}\r\ninterface IState {\r\n    highlight: boolean;\r\n}\r\n\r\nexport default class DragUploadModal extends Component<IProps, IState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            highlight: false\r\n        };\r\n    }\r\n\r\n    public render() {\r\n        const { images, sendFiles, setFiles } = this.props;\r\n        return (\r\n            <div className=\"drag-show\" onClick={() => setFiles([])}>\r\n                <div className={`drag-window ${images.length ? 'dropped' : ''}`} onClick={e => e.stopPropagation()}>\r\n                    {images.length ? <UploadImagePreview\r\n                        setFiles={setFiles}\r\n                        sendFiles={sendFiles}\r\n                        images={images}\r\n                    /> : <div className='drag-window-content'>\r\n                            <CloudUpload />\r\n                            Drop your images here\r\n                        </div>}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n","import { TextField } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\nimport Announcement from \"../Message/Announcement\";\r\nimport Message from \"../Message/Message\";\r\nimport * as Loaf from \"./../../API/Loaf\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport api from \"./../../API\";\r\nimport AppBar from './AppBar';\r\nimport DragUploadModal from './DragUploadModal';\r\nimport { InView } from 'react-intersection-observer';\r\nimport { scrollToBottom } from \"Modules/Utils\";\r\nexport interface FilePayloadData {\r\n    data: string,\r\n    size: number,\r\n    name: string\r\n}\r\ninterface IProps {\r\n    chat: I.IChatPaged | null;\r\n    hash: string;\r\n}\r\n\r\n\r\ninterface IState {\r\n    form: {\r\n        textMessage: string;\r\n        files: FilePayloadData[]\r\n    };\r\n    highlight: boolean;\r\n}\r\n\r\nconst getKeyFromMessage = (msg: I.IMessage) => {\r\n    return `${msg.uuid}-${msg.senderId}-${msg.date}-${msg.date}-${msg.id || 'xd'}`;\r\n}\r\n\r\nconst isThisFirstDateOccurence = (pages: I.IPage[], message: I.IMessage) => {\r\n    const dateToCheck = moment(message.date).format('dddd, MMMM Do YYYY')\r\n\r\n    const allMessages = pages.map(page => page.messages).flat();\r\n\r\n    const messageIndex = allMessages.indexOf(message);\r\n\r\n    const listOfDates = allMessages.map(msg => moment(msg.date).format('dddd, MMMM Do YYYY'));\r\n\r\n    return listOfDates.indexOf(dateToCheck) === messageIndex;\r\n}\r\n\r\nlet isLoading = false;\r\n\r\nexport default class Chat extends Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            form: {\r\n                textMessage: \"\",\r\n                files: []\r\n            },\r\n            highlight: false\r\n        };\r\n    }\r\n\r\n    allow = (e: React.DragEvent<HTMLDivElement>) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    }\r\n\r\n    whileOver = (evt: React.DragEvent<HTMLDivElement>) => {\r\n        let highlight = false;\r\n        if (evt.type === \"dragenter\" || evt.type === \"dragover\") {\r\n            highlight = true;\r\n        }\r\n        if (this.state.highlight !== highlight) {\r\n            this.setState({ highlight })\r\n        }\r\n    }\r\n\r\n    drop = (evt: React.DragEvent<HTMLDivElement>) => {\r\n        evt.preventDefault();\r\n        if (evt.dataTransfer)\r\n            this.handleFiles(evt.dataTransfer.files);\r\n\r\n        this.setState({ highlight: false });\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        Loaf.on(\"chatPage\", () => {\r\n            setTimeout(() => {\r\n                scrollToBottom(62);\r\n                isLoading = false;\r\n            }, 0);\r\n        });\r\n    }\r\n\r\n    public handleFiles = (files: FileList) => {\r\n        if (!files || !files.length) return;\r\n        const filesToSend: FilePayloadData[] = [];\r\n\r\n        const readFile = (index: number, file?: File) => {\r\n            /*if(file && !file.type?.startsWith(\"image/\")){\r\n                return;\r\n            }*/\r\n            if (!file) {\r\n                return this.setFiles(filesToSend);\r\n                /*return this.setState(state => {\r\n                    state.form.images = images;\r\n                    return state;\r\n                }, () => console.log(this.state));*/\r\n            }\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => {\r\n                if (typeof reader.result !== \"string\") {\r\n                    return readFile(index + 1, files[index + 1]);;\r\n                }\r\n                const img = reader.result;\r\n\r\n                filesToSend.push({\r\n                    data: img,\r\n                    name: file.name,\r\n                    size: file.size,\r\n                });\r\n                return readFile(index + 1, files[index + 1]);\r\n            }\r\n        }\r\n\r\n        readFile(0, files[0]);\r\n    }\r\n\r\n    getAllMessagesCount = () => {\r\n        const { chat } = this.props;\r\n        if (!chat) return 0;\r\n        const allMessagesCount = chat.pages.map(page => page.messages.length).reduce((a, b) => a + b, 0);\r\n        return allMessagesCount;\r\n    }\r\n\r\n    public loadMoreMessages = (page: number) => {\r\n        const { chat } = this.props;\r\n        if (!chat || chat.status !== 2) {\r\n            return;\r\n        }\r\n        api.chats.loadPageOfMessages(chat.id, page);\r\n    }\r\n\r\n    public loadMoreByScroll = (page: number) => (_inView: boolean, entry: IntersectionObserverEntry) => {\r\n        if (isLoading) return;\r\n        if (!entry || entry.intersectionRatio < 0.98) return;\r\n        isLoading = true;\r\n        this.loadMoreMessages(page);\r\n    }\r\n\r\n    public render() {\r\n        const { chat } = this.props;\r\n        if (!chat) {\r\n            return <div className={`chat_container empty`}></div>;\r\n        }\r\n\r\n        return (\r\n            <div className=\"chat_container\">\r\n                <AppBar chat={chat} />\r\n                <div id=\"message_container\" className={`message_container ${this.state.highlight ? 'highlight-drag' : ''} ${this.state.form.files.length ? 'upload' : ''}`}\r\n                    onDragOver={this.allow}\r\n                    onDragEnter={this.whileOver}\r\n                    onDragOverCapture={this.whileOver}\r\n                    onDragEnd={this.whileOver}\r\n                    onDragLeave={this.whileOver}\r\n                    onDrop={this.drop}\r\n                >\r\n                    {chat.status === 1 || !this.getAllMessagesCount() ?\r\n                        <Announcement\r\n                            request={chat.status === 1}\r\n                            chat={chat}\r\n                        /> : null}\r\n                    {\r\n                        chat.status === 2 ? (\r\n                            chat.pages.map(page => (\r\n                                <>\r\n                                    {\r\n                                        page.page > 0 && !chat.pages.find(pageEntry => pageEntry.page === page.page - 1) ? (\r\n                                            <>\r\n                                                {/*<InView threshold={0} trackVisibility={true} delay={100}>\r\n                                                {({ inView, ref, entry }) => (\r\n                                                    <div  ref={ref} className=\"load-messages-button\" onClick={() => this.loadMoreMessages(page.page - 1)}>LOAD MORE MESSAGES {inView} {entry ? (Math.floor(entry.intersectionRatio * 100)) + \"%\" : 'nic'}...</div>\r\n                                                )}\r\n                                                </InView>*/}\r\n                                                <InView threshold={0} trackVisibility={true} delay={100} as=\"div\" className=\"load-messages-button\" onClick={() => this.loadMoreMessages(page.page - 1)} onChange={this.loadMoreByScroll(page.page-1)}>\r\n                                                    LOAD MORE MESSAGES\r\n                                                </InView>\r\n                                            </>\r\n                                        ) : null\r\n                                    }\r\n                                    {page.messages.map((message) => (\r\n                                        <React.Fragment key={getKeyFromMessage(message)}>\r\n                                            {\r\n                                                isThisFirstDateOccurence(chat.pages, message) ? (\r\n                                                    <div className=\"date-tag\">{moment(message.date).format('dddd, MMMM Do YYYY')}</div>\r\n                                                ) : null\r\n                                            }\r\n                                            <Message message={message} chatName={chat.name} />\r\n                                        </React.Fragment>\r\n                                    ))}\r\n                                </>\r\n                            ))\r\n                        ) : null\r\n                    }\r\n                </div>\r\n                <DragUploadModal\r\n                    images={this.state.form.files}\r\n                    setFiles={this.setFiles}\r\n                    sendFiles={this.sendFiles}\r\n                />\r\n                {chat.status === 2 ? <div className=\"text_sender\">\r\n                    <TextField\r\n                        onChange={this.handleChange}\r\n                        name=\"textMessage\"\r\n                        onKeyDown={this.handleKeyDown}\r\n                        id=\"full-width\"\r\n                        placeholder=\"Type in a message...\"\r\n                        fullWidth\r\n                        value={this.state.form.textMessage}\r\n                        variant=\"outlined\"\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        InputProps={{\r\n                            classes: {\r\n                                root: 'outline-container'\r\n                            }\r\n                        }}\r\n                        inputProps={{\r\n                            style: { color: 'white' }\r\n                        }}\r\n                    />\r\n                </div> : null}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private setFiles = (files: FilePayloadData[]) => {\r\n        this.setState(state => {\r\n            state.form.files = files;\r\n            return state;\r\n        });\r\n    }\r\n\r\n    private handleKeyDown = (e: any) => {\r\n        if (e.key === \"Enter\" && this.state.form.textMessage && this.props.chat) {\r\n            // TODO: SEND MESSAGE\r\n            const content = this.state.form.textMessage;\r\n            api.message.send(this.props.chat.id, { type: \"text\", content });\r\n            this.setState({ form: { textMessage: \"\", files: [] } });\r\n        }\r\n    }\r\n    private sendMessages = async (chatId: number, message: I.IMessageContent) => {\r\n        await api.message.send(chatId, message);\r\n        this.setState({ form: { textMessage: \"\", files: [] } });\r\n    }\r\n    private sendFiles = () => {\r\n        const files = this.state.form.files;\r\n        if (!files.length || !this.props.chat) {\r\n            return console.log(\"NO files OR NO CHAT\");\r\n        }\r\n        if (files.length === 1) {\r\n            const file = this.state.form.files[0];\r\n            const message: I.IMessageContent = {\r\n                type: \"file\",\r\n                content: file\r\n            };\r\n            this.sendMessages(this.props.chat.id, message);\r\n        } else {\r\n            const message: I.IMessageContentMixed = {\r\n                type: \"mixed\",\r\n                content: []\r\n            }\r\n            for (const file of files) {\r\n                const filePayload: I.IMessageContentFile = {\r\n                    type: \"file\",\r\n                    content: file\r\n                }\r\n                message.content.push(filePayload);\r\n            }\r\n            this.sendMessages(this.props.chat.id, message);\r\n        }\r\n    }\r\n    private handleChange = (e: any) => {\r\n        const { form } = this.state;\r\n        const field: \"textMessage\" = e.target.name;\r\n        form[field] = e.target.value;\r\n        this.setState({ form });\r\n    }\r\n}\r\n\r\n","import { Avatar } from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport { textToRGB } from './../../Modules/Utils';\r\nimport storage from \"./../../API/ChatImages\";\r\n\r\ninterface IProps  {\r\n    chat: I.IChatPaged;\r\n}\r\n\r\nexport default class LoafAvatar extends Component<IProps> {\r\n    public render() {\r\n        const { chat } = this.props;\r\n        if(chat.image){\r\n            return <Avatar src={`data:image/jpeg;base64,${storage.get(chat.id)}`} className=\"avatar\" />\r\n        }\r\n        return <Avatar className=\"avatar\" style={{backgroundColor: textToRGB(chat.name)}}>\r\n            {chat.name.charAt(0)?.toUpperCase() || \"#\"}\r\n        </Avatar>\r\n    }\r\n}\r\n","import { Divider, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport moment from \"moment\";\r\nimport React, { Component } from \"react\";\r\n// import * as API from \"./api\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport LoafAvatar from \"./../../Theme/Components/Avatar\";\r\n\r\nfunction getSubText(chat: I.IChatPaged, last: I.IMessage | null) {\r\n    switch (chat.status) {\r\n        case 5:\r\n            return \"Waiting for response...\";\r\n        case 2:\r\n            if(last?.content.type === \"file\" || last?.content.type === \"mixed\") return \"sent an image\";\r\n            return last?.content.content || \"No messages\";\r\n        case 1:\r\n            return <span className=\"strong\">requested your attention</span>;\r\n        default:\r\n            return \"\";\r\n    }\r\n}\r\n\r\ninterface IProps {\r\n    chat: I.IChatPaged;\r\n    chatImage: string | null;\r\n    loadChat: (chat: I.IChatPaged) => void;\r\n    isCurrent: boolean;\r\n}\r\n\r\nexport default class ChatsListEntry extends Component<IProps> {\r\n    getMessagesFromLastPage = () => {\r\n        const { chat } = this.props;\r\n        if(!chat) return [];\r\n        if(chat.last) return [chat.last];\r\n        const maxPage = Math.max(...chat.pages.map(page => page.page));\r\n        const lastPage = chat.pages.find(page => page.page === maxPage);\r\n        if(!lastPage) return [];\r\n        return lastPage.messages;\r\n    }\r\n    getLast = () => {\r\n        const messages = this.getMessagesFromLastPage();\r\n        let last: I.IMessage | null = null;\r\n\r\n        for(const message of messages){\r\n            if(!last){\r\n                last = message;\r\n                continue;\r\n            }\r\n            if(new Date(message.date) > new Date(last.date)){\r\n                last = message;\r\n            }\r\n        }\r\n        return last;\r\n    }\r\n\r\n    getLastTag = () => {\r\n        const { chat } = this.props;\r\n        const last = this.getLast();\r\n        if(!last) return null;\r\n        if(!last.my && chat.private) return '';\r\n        if(last.my){\r\n            return <span className=\"you\">You:</span>;\r\n        }\r\n        return <span className=\"you\">{last.sender?.username || last.senderId}:</span>\r\n    }\r\n\r\n    public render() {\r\n        const { chat, isCurrent } = this.props;\r\n        const last = this.getLast();\r\n        return (\r\n            <div className={`chat-list-entry ${isCurrent ? 'current' : ''}`}>\r\n                <ListItem button\r\n                    className={\"chat-button \" + (chat.unread ? \"new-message\" : \"\")}\r\n                    onClick={() => this.props.loadChat(chat)}\r\n                >\r\n                    <LoafAvatar chat={chat} />\r\n                    <ListItemText inset\r\n                        className=\"text-item\"\r\n                        primary={\r\n                            <div className={\"chat-name\"}>\r\n                                <div className=\"chat-name-text\">{chat.name}</div>\r\n                                <div className=\"last-message-date\">\r\n                                    {last ? moment(last.date).fromNow() : \"\"}\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        secondary={\r\n                            <div className=\"chat-last-message\">\r\n                                <div className=\"text\">\r\n                                    {this.getLastTag()} {getSubText(chat, last)}\r\n                                </div>\r\n                                <div className={\"last-text-status \" /*+ (chat.lastYours ? chat.status : '')*/}></div>\r\n                            </div>\r\n                        }\r\n                    />\r\n                </ListItem>\r\n                <li>\r\n                    <Divider variant=\"inset\" className=\"separator\" />\r\n                </li>\r\n            </div>);\r\n    }\r\n}\r\n","import { List } from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport ChatsListEntry from \"./ChatsListEntry\";\r\n// import moment from \"moment\";\r\nimport storage from './../../API/ChatImages';\r\n\r\n\r\ninterface IProps {\r\n    chats: I.IChatPaged[];\r\n    currentChat: I.IChatPaged | null;\r\n    loadChat: (chat: I.IChatPaged) => void;\r\n}\r\n\r\n\r\nexport default class ChatsList extends Component<IProps> {\r\n    public render() {\r\n        const { chats } = this.props;\r\n        const allUsers = chats.map(chat => chat.users).flat();\r\n\r\n        const uniqueUsersId = [...new Set(allUsers.map(user => user.id).filter((id): id is number => id !== undefined))];\r\n        const uniqueUsers = uniqueUsersId.map(id => allUsers.find(user => user.id === id)).filter((user): user is I.IUser => !!user);\r\n        return <div className=\"chat-list\">\r\n            <List>\r\n                {chats.map((chat) => <ChatsListEntry\r\n                    key={chat.id}\r\n                    chat={chat}\r\n                    chatImage={storage.get(chat.id)}\r\n                    loadChat={this.props.loadChat}\r\n                    isCurrent={this.props.currentChat?.id === chat.id}\r\n                />)}\r\n            </List>\r\n        </div>;\r\n    }\r\n}\r\n","import { Button } from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\n\r\ninterface IProps  {\r\n    secondary?: boolean;\r\n    main?: boolean;\r\n    big?: boolean;\r\n    onClick?: () => void;\r\n    style?: any;\r\n}\r\n\r\nexport default class LoafButton extends Component<IProps> {\r\n    public render() {\r\n        const { main, big, onClick, secondary, ...rest } = this.props;\r\n        return (\r\n            <Button variant={main ? \"contained\" : \"text\"}\r\n                onClick={onClick}\r\n                disableElevation\r\n                className={big ? \"big-button\" : \"\"}\r\n                color={secondary ? \"secondary\" : \"primary\"}\r\n                {...rest}\r\n                >\r\n                {this.props.children}\r\n            </Button>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { Paper, DialogTitle, DialogContent, DialogActions, TextField, InputAdornment } from '@material-ui/core';\r\nimport Button from \"./../../Theme/Components/LoafButton\";\r\nimport * as Loaf from \"./../../API/Loaf\";\r\nimport api from \"../../API\";\r\n//import { MoveToInbox, Mail, Group, Settings, GroupAdd, PersonAdd, Cancel, ContactSupport, PermMedia } from '@material-ui/icons';\r\n\r\ninterface IProps {\r\n    onClose: () => void;\r\n    closeDrawer: () => void;\r\n}\r\n\r\ninterface IState {\r\n    name: string;\r\n    loading: boolean;\r\n}\r\nexport default class NewContact extends Component<IProps, IState> {\r\n    constructor(props: IProps){\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            loading: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        Loaf.on(\"userAdded\", (data: boolean) => {\r\n            this.setState({loading: false}, () => {\r\n                if(!data) return;\r\n                this.props.onClose();\r\n                this.props.closeDrawer();\r\n            })\r\n        })\r\n    }\r\n\r\n    onChange = (ev: any) => {\r\n        this.setState({name: ev.target.value});\r\n    }\r\n\r\n    addContact = () => {\r\n        if(!this.state.loading) this.setState({loading: true}, () => api.user.add(this.state.name));\r\n    }\r\n\r\n    render(){\r\n        return(\r\n          <Paper classes={{root:\"modal-container\"}}>\r\n              <DialogTitle style={{color:'white'}}>Adding contact</DialogTitle>\r\n              <DialogContent>\r\n                  <TextField\r\n                    style={{width:'100%'}}\r\n                    className=\"text-field-container\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChange}\r\n                    disabled={this.state.loading}\r\n                    placeholder=\"Username\"\r\n                    InputProps={{\r\n                        className:'contact-input',\r\n                        style:{color:'#fff'},\r\n                        startAdornment: <InputAdornment position=\"start\" className=\"new-contact-adornment\">@</InputAdornment>\r\n                    }}\r\n                  />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                  <Button main big onClick={this.addContact}>Add</Button>\r\n                  <Button big onClick={this.props.onClose}>Cancel</Button>\r\n              </DialogActions>\r\n          </Paper>);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Paper, DialogTitle, DialogContent, DialogActions, TextField, List, ListItem, ListItemAvatar, Avatar, ListItemText, ListItemSecondaryAction, IconButton } from '@material-ui/core';\r\nimport Button from \"./../../Theme/Components/LoafButton\";\r\nimport * as Loaf from \"./../../API/Loaf\";\r\nimport api from \"../../API\";\r\nimport * as I from \"./../../../modules/interface\";\r\nimport LoafAvatar from \"./../../Theme/Components/Avatar\";\r\nimport { Remove as RemoveIcon, Add as AddIcon } from '@material-ui/icons';\r\n\r\ninterface IProps {\r\n    onClose: () => void;\r\n    closeDrawer: () => void;\r\n    chats: I.IChatPaged[];\r\n}\r\n\r\ninterface IState {\r\n    name: string;\r\n    loading: boolean;\r\n    selectedChats: number[];\r\n}\r\nexport default class NewConversation extends Component<IProps, IState> {\r\n    constructor(props: IProps){\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            loading: false,\r\n            selectedChats: [],\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        Loaf.on(\"createdChat\", (data: boolean) => {\r\n            this.setState({loading: false}, () => {\r\n                if(!data) return;\r\n                this.props.onClose();\r\n                this.props.closeDrawer();\r\n            })\r\n        })\r\n    }\r\n\r\n    onChange = (ev: any) => {\r\n        this.setState({name: ev.target.value});\r\n    }\r\n\r\n    toggleChatEntry = (chatId: number) => () => {\r\n        let selectedChats = this.state.selectedChats;\r\n        if(selectedChats.includes(chatId)){\r\n            selectedChats = selectedChats.filter(id => id !== chatId);\r\n        } else {\r\n            selectedChats.push(chatId);\r\n        }\r\n        this.setState({selectedChats})\r\n    }\r\n\r\n    createConversation = () => {\r\n        const { name, selectedChats } = this.state;\r\n        const userIds: number[] = [];\r\n        const chats = this.props.chats.filter(chat => selectedChats.includes(chat.id)).map(chat => chat.users).flat().map(user => user.id);\r\n        for(const userId of chats){\r\n            if(!userId) continue;\r\n            if(!userIds.includes(userId)) userIds.push(userId);\r\n        }\r\n        if(!this.state.loading) this.setState({loading: true}, () => api.chats.createGroup(name, userIds));\r\n    }\r\n\r\n    render(){\r\n        const { chats } = this.props;\r\n        const { selectedChats } = this.state;\r\n        return(\r\n          <Paper classes={{root:\"modal-container new-conversation\"}}>\r\n              <DialogTitle style={{color:'white'}}>Create group</DialogTitle>\r\n              <DialogContent>\r\n                  <TextField\r\n                    style={{width:'100%'}}\r\n                    className=\"text-field-container\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChange}\r\n                    disabled={this.state.loading}\r\n                    placeholder=\"Group name\"\r\n                    InputProps={{\r\n                        className:'contact-input',\r\n                        style:{color:'#fff'},\r\n                    }}\r\n                />\r\n                <List dense={true}>\r\n                    {chats.filter(chat => chat.private).map(chat => <ListItem className={`new-conversation-entry ${selectedChats.includes(chat.id) ? 'selected':''}`}>\r\n                        <ListItemAvatar>\r\n                            <Avatar>\r\n                                <LoafAvatar chat={chat}  />\r\n                            </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                            primary={<div className=\"visible-name\">{chat.name}</div>}\r\n                            secondary={<div className=\"main-identifier\">{`@${chat.name}`}</div>}\r\n                        />\r\n                        <ListItemSecondaryAction>\r\n                            <IconButton edge=\"end\" aria-label=\"delete\">\r\n                                {selectedChats.includes(chat.id) ? <RemoveIcon  onClick={this.toggleChatEntry(chat.id)}/> : <AddIcon  onClick={this.toggleChatEntry(chat.id)}/>}\r\n                            </IconButton>\r\n                        </ListItemSecondaryAction>\r\n                    </ListItem>)}\r\n                    </List>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                  <Button main big onClick={this.createConversation}>Add</Button>\r\n                  <Button big onClick={this.props.onClose}>Cancel</Button>\r\n              </DialogActions>\r\n          </Paper>);\r\n    }\r\n}","import { AppBar, SwipeableDrawer, IconButton, Toolbar, Typography, Modal } from \"@material-ui/core\";\r\nimport { Menu as MenuIcon, Search as SearchIcon } from \"@material-ui/icons\";\r\nimport DrawerContent from \"./../Drawer\";\r\nimport React, { Component } from \"react\";\r\nimport * as I from \"../../../modules/interface\";\r\nimport api from \"./../../API\";\r\nimport * as Loaf from \"./../../API/Loaf\";\r\nimport logo from \"./../../Theme/assets/load_icon.svg\";\r\nimport Chat from \"./../Chat/Chat\";\r\nimport ChatList from \"./../Chat/ChatsList\";\r\nimport NewContact from \"./../NewContact\";\r\nimport NewConversation from \"./../NewConversation\";\r\nimport storage, {ChatImageStorage} from \"./../../API/ChatImages\";\r\nimport { scrollToBottom } from \"Modules/Utils\";\r\n\r\ninterface IState {\r\n    drawer: boolean;\r\n    chats: I.IChatPaged[];\r\n    currentChat: I.IChatPaged | null;\r\n    newContactModal: boolean;\r\n    newConversationModal: boolean;\r\n    storage: ChatImageStorage;\r\n    hash: string,\r\n}\r\n\r\nconst addPageToChat = (chat: I.IChatPaged, pages: I.IPage[]) => {\r\n    for(const page of pages){\r\n        const existingEntry = chat.pages.find(pageEntry => pageEntry.page === page.page);\r\n        if(!existingEntry){\r\n            chat.pages.push(page);\r\n            continue;\r\n        }\r\n        existingEntry.messages = page.messages;\r\n    }\r\n}\r\n\r\nconst didLastPageChange = (chat: I.IChatPaged, newPages: I.IPage[]) => {\r\n    const maxNewPage = Math.max(...newPages.map(page => page.page));\r\n    const maxOldPage = Math.max(...chat.pages.map(page => page.page));\r\n\r\n    if(maxOldPage > maxNewPage){\r\n        return false;\r\n    }\r\n\r\n    const newMaxPageEntry = newPages.find(page => page.page === maxNewPage) as I.IPage;\r\n    const lastPageEntry = chat.pages.find(page => page.page === maxNewPage);\r\n\r\n    if(!lastPageEntry){\r\n        return true;\r\n    }\r\n\r\n    if(newMaxPageEntry.messages.length !== lastPageEntry.messages.length) return true;\r\n\r\n    const currentUUIDs = lastPageEntry.messages.map(message => message.uuid);\r\n    const newUUIDs = newMaxPageEntry.messages.map(message => message.uuid);\r\n\r\n    for(const currentUUID of currentUUIDs){\r\n        if(!newUUIDs.includes(currentUUID)){\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\nexport default class Main extends Component<{}, IState> {\r\n    constructor(props: {}) {\r\n        super(props);\r\n        this.state = {\r\n            chats: [],\r\n            currentChat: null,\r\n            drawer: false,\r\n            newContactModal: false,\r\n            newConversationModal: false,\r\n            storage: storage.set(() => this.setState({hash: (new Date()).toISOString()})),\r\n            hash: '',\r\n        };\r\n    }\r\n    public async componentDidMount() {\r\n        Loaf.on(\"chats\", (newChats: I.IChatPaged[]) => {\r\n            const { currentChat } = this.state;\r\n\r\n            let newInCurrent = false;\r\n\r\n\r\n            if(currentChat){\r\n                const newCurrentChat = newChats.find(chat => chat.id === currentChat.id);\r\n                if(newCurrentChat){\r\n                    newInCurrent = didLastPageChange(currentChat, newCurrentChat.pages);\r\n                    addPageToChat(currentChat, newCurrentChat.pages);\r\n                }\r\n                const indexOfCurrentChat = newChats.findIndex(chat => chat.id === currentChat.id);\r\n                if(indexOfCurrentChat >= 0){\r\n                    newChats[indexOfCurrentChat] = currentChat;\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                chats: newChats,\r\n                currentChat\r\n            }, () => {\r\n                if(!newInCurrent) return;\r\n                scrollToBottom();\r\n            });\r\n        });\r\n\r\n        Loaf.on(\"chatPage\", (chatPage: { chatId: number, pageEntry: I.IPage }) => {\r\n            const { chats, currentChat } = this.state;\r\n            const targetChat = chats.find(chat => chat.id === chatPage.chatId);\r\n\r\n            let newInCurrent = false;\r\n\r\n            if(!targetChat) return;\r\n\r\n            if(!currentChat || currentChat.id !== targetChat.id){\r\n                targetChat.pages = [chatPage.pageEntry];\r\n            } else {\r\n                newInCurrent = didLastPageChange(currentChat, [chatPage.pageEntry]);\r\n                addPageToChat(currentChat, [chatPage.pageEntry]);\r\n                currentChat.pages.sort((a,b) => a.page-b.page);\r\n            }\r\n\r\n            this.setState({\r\n                chats,\r\n                currentChat\r\n            }, () => {\r\n                if(!newInCurrent) return;\r\n                scrollToBottom();\r\n            });\r\n        });\r\n        api.chats.get();\r\n    }\r\n    public setContactModal = (state: boolean) => () => {\r\n        this.setState({newContactModal: state});\r\n    }\r\n    public setConversationModal = (state: boolean) => () => {\r\n        this.setState({newConversationModal: state});\r\n    }\r\n    public toggleDrawer = () => {\r\n        this.setState((state) => ({ ...state, drawer: !state.drawer }));\r\n    }\r\n    public render() {\r\n        return (\r\n            <div className=\"loaf-app\">\r\n                <AppBar position=\"fixed\" style={{top:'20px'}} >\r\n                    <Toolbar className=\"bar\">\r\n                        <IconButton className=\"menuButton\" color=\"inherit\" aria-label=\"Open drawer\"  onClick={this.toggleDrawer}>\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap className=\"logo-wrapper\">\r\n                            <img src={logo} alt={'Loaf'} />\r\n                        </Typography>\r\n                        <div className=\"searchIcon\">\r\n                            <SearchIcon />\r\n                        </div>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <SwipeableDrawer\r\n                    open={this.state.drawer}\r\n                    onOpen={this.toggleDrawer}\r\n                    onClose={this.toggleDrawer}\r\n                    className=\"sidenav-container\"\r\n                    classes={{paper:'drawer-content'}}\r\n                >\r\n                    <DrawerContent\r\n                        newContact={this.setContactModal(true)}\r\n                        newConversation={this.setConversationModal(true)}\r\n                    />\r\n                </SwipeableDrawer>\r\n                <Modal\r\n                    open={this.state.newContactModal}\r\n                    onClose={this.setContactModal(false)}\r\n                    >\r\n                    <NewContact onClose={this.setContactModal(false)} closeDrawer={this.toggleDrawer}/>\r\n                </Modal>\r\n                <Modal\r\n                    open={this.state.newConversationModal}\r\n                    onClose={this.setConversationModal(false)}\r\n                    >\r\n                    <NewConversation\r\n                        onClose={this.setConversationModal(false)}\r\n                        closeDrawer={this.toggleDrawer}\r\n                        chats={this.state.chats}\r\n                    />\r\n                </Modal>\r\n                <div className=\"playground\">\r\n                    <ChatList\r\n                        chats={this.state.chats}\r\n                        currentChat={this.state.currentChat}\r\n                        loadChat={this.loadChat}\r\n                    />\r\n                    <Chat chat={this.state.currentChat}  hash={this.state.hash} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    private loadChat = (chat: I.IChatPaged) => {\r\n        this.setState({ currentChat: chat }, () => {\r\n            const container = document.getElementById(\"message_container\");\r\n            if(!container) return;\r\n            container.scroll({ top: container.scrollHeight });\r\n        });\r\n    }\r\n}\r\n","import { TextField } from \"@material-ui/core\";\r\nimport API from \"API\";\r\nimport React, { Component } from \"react\";\r\nimport LoafButton from \"Theme/Components/LoafButton\";\r\n\r\ninterface IProps {\r\n    authentication?: boolean;\r\n    togglePage: () => void;\r\n}\r\n\r\ninterface IState {\r\n    username: string;\r\n    password: string;\r\n    authCode: number;\r\n}\r\n\r\nexport default class Login extends Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            authCode: 0,\r\n            password: \"\",\r\n            username: \"\",\r\n        };\r\n    }\r\n\r\n    keyPress = (event: any) => {\r\n        if(event.key === \"Enter\"){\r\n            this.logIn();\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        if (this.props.authentication) {\r\n            return (\r\n                <div className=\"loaf-app-splash\">\r\n                    <div id=\"login-page\">\r\n                        <TextField\r\n                            type=\"number\"\r\n                            className=\"username-input\"\r\n                            placeholder=\"Username\"\r\n                            color=\"primary\"\r\n                            value={this.state.authCode}\r\n                            onChange={this.handleChange(\"authCode\")}\r\n                            required\r\n                        />\r\n                        <LoafButton main big onClick={this.validate}>Authenticate</LoafButton>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return (\r\n            <div className=\"loaf-app-splash\">\r\n                <div id=\"login-page\">\r\n                    <TextField\r\n                        className=\"username-input\"\r\n                        placeholder=\"Username\"\r\n                        color=\"primary\"\r\n                        value={this.state.username}\r\n                        onKeyPress={this.keyPress}\r\n                        onChange={this.handleChange(\"username\")}\r\n                        required\r\n                    />\r\n                    <TextField\r\n                        className=\"password-input\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                        onKeyPress={this.keyPress}\r\n                        value={this.state.password}\r\n                        onChange={this.handleChange(\"password\")}\r\n                        type=\"password\"\r\n                    />\r\n                    <LoafButton main big onClick={this.logIn}>Login</LoafButton>\r\n                    <LoafButton big onClick={this.props.togglePage}>Sign Up</LoafButton>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private handleChange = (field: \"password\" | \"username\" | \"authCode\") => (e: any) => {\r\n        const value = e.target.value;\r\n        this.setState((state) => ({ ...state, [field]: value }));\r\n    }\r\n\r\n    private logIn = () => {\r\n        API.user.logIn(this.state.username, this.state.password);\r\n    }\r\n\r\n    private validate = () => {\r\n        API.user.authenticate(this.state.authCode);\r\n    }\r\n}\r\n","import { Backdrop, CircularProgress, TextField } from \"@material-ui/core\";\r\nimport API from \"API\";\r\nimport QRCode from \"qrcode\";\r\nimport React, { Component } from \"react\";\r\nimport LoafButton from \"Theme/Components/LoafButton\";\r\nimport * as Loaf from \"./../../API/Loaf\";\r\n\r\ninterface IProps {\r\n    togglePage: () => void;\r\n}\r\n\r\ninterface IState {\r\n    username: string;\r\n    password: string;\r\n    firstName: string;\r\n    loading: boolean;\r\n    done: boolean;\r\n    qrcode: string | null;\r\n}\r\n\r\nexport default class Register extends Component<IProps, IState> {\r\n    constructor(props: IProps) {\r\n        super(props);\r\n        this.state = {\r\n            done: false,\r\n            firstName: \"\",\r\n            loading: false,\r\n            password: \"\",\r\n            qrcode: null,\r\n            username: \"\",\r\n        };\r\n    }\r\n\r\n    public componentDidMount() {\r\n        Loaf.on(\"userCreated\", async (qrcode: string | false) => {\r\n            if (!qrcode) {\r\n                this.setState({ done: true, loading: false });\r\n                return;\r\n            }\r\n            const url = await QRCode.toDataURL(`otpauth://totp/Loaf%20Messenger?secret=${qrcode}`);\r\n\r\n            this.setState({ done: true, loading: false, qrcode: url });\r\n\r\n        });\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <div className=\"loaf-app-splash\">\r\n                <div id=\"login-page\">\r\n                    {this.renderError()}\r\n                    {this.renderForm()}\r\n                    <LoafButton big onClick={this.props.togglePage}>Sign In</LoafButton>\r\n                </div>\r\n                <Backdrop id=\"splash-backdrop\" open={this.state.loading}>\r\n                    <CircularProgress color=\"inherit\" />\r\n                </Backdrop>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private renderError = () => {\r\n        const { done, loading, qrcode } = this.state;\r\n        if (done && !loading && !qrcode) {\r\n            return <p>There was some error along the way - try again</p>;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    private renderForm = () => {\r\n        if (this.state.qrcode) {\r\n            return <img src={this.state.qrcode} alt=\"TOTP\" />;\r\n        }\r\n        return <React.Fragment>\r\n            <TextField\r\n                className=\"firstname-input\"\r\n                placeholder=\"First Name\"\r\n                color=\"primary\"\r\n                value={this.state.firstName}\r\n                onChange={this.handleChange(\"firstName\")}\r\n                required\r\n                disabled={this.state.loading}\r\n            />\r\n            <TextField\r\n                className=\"username-input\"\r\n                placeholder=\"Username\"\r\n                color=\"primary\"\r\n                value={this.state.username}\r\n                onChange={this.handleChange(\"username\")}\r\n                required\r\n                disabled={this.state.loading}\r\n            />\r\n            <TextField\r\n                className=\"password-input\"\r\n                placeholder=\"Password\"\r\n                required\r\n                value={this.state.password}\r\n                onChange={this.handleChange(\"password\")}\r\n                type=\"password\"\r\n                disabled={this.state.loading}\r\n            />\r\n            <LoafButton main big onClick={this.register} style={{marginTop:'24px'}}>Register</LoafButton>\r\n        </React.Fragment>;\r\n    }\r\n\r\n    private handleChange = (field: \"password\" | \"username\" | \"firstName\") => (e: any) => {\r\n        const value = e.target.value;\r\n        this.setState((state) => ({ ...state, [field]: value }));\r\n    }\r\n\r\n    private register = () => {\r\n        if (this.state.loading) {\r\n            return;\r\n        }\r\n        this.setState({ loading: true}, () => {\r\n            API.user.register(this.state.username, this.state.password, this.state.firstName);\r\n        });\r\n    }\r\n}\r\n","import { LinearProgress } from \"@material-ui/core\";\r\nimport React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport default class SplashScreen extends Component {\r\n    public render() {\r\n        return (\r\n            <div className=\"loaf-app-splash\">\r\n                <div className=\"progress-container\">\r\n                    <LinearProgress />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Main from \"./Modules/Main\";\r\nimport * as I from \"./../modules/interface\";\r\nimport api from \"./API\";\r\nimport * as Loaf from \"./API/Loaf\";\r\nimport Login from \"./Modules/Login\";\r\nimport Register from \"./Modules/Register\";\r\nimport Splash from \"./Modules/Splash\";\r\n\r\nimport fakeRequire from \"./API/DevHandler\";\r\ndeclare let window: any;\r\nif(process.env.REACT_APP_DEV === \"true\"){\r\n    window.require = fakeRequire;\r\n}\r\n\r\ninterface IState {\r\n    user: I.IUser | null;\r\n    loading: boolean;\r\n    authentication: boolean;\r\n    register: boolean;\r\n}\r\n\r\nexport default class App extends React.Component<any, IState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            authentication: false,\r\n            loading: true,\r\n            register: false,\r\n            user: null,\r\n        };\r\n    }\r\n\r\n    public componentDidMount() {\r\n        Loaf.on(\"user\", (user: I.IUser) => {\r\n            this.setState({user, loading: false});\r\n        });\r\n        Loaf.on(\"userStatus\", (status: number) => {\r\n            if (status === 200) {\r\n                this.getUser();\r\n            } else if (status === 403) {\r\n                this.setState({authentication: true});\r\n            }\r\n        });\r\n\r\n        this.getUser();\r\n    }\r\n    public render() {\r\n        const { user, loading, authentication, register } = this.state;\r\n        if (loading) {\r\n            return <Splash />;\r\n        }\r\n        if (user) {\r\n            return <Main />;\r\n        }\r\n        if (register) {\r\n            return <Register togglePage={this.togglePage} />;\r\n        }\r\n        return <Login togglePage={this.togglePage} authentication={authentication}/>;\r\n    }\r\n\r\n    private getUser() {\r\n        const loggedInUser = api.user.get();\r\n\r\n        if (loggedInUser) {\r\n            return this.setState({ user: loggedInUser, loading: false});\r\n        }\r\n        api.user.load();\r\n    }\r\n\r\n    private togglePage = () => {\r\n        this.setState((state) => ({...state, register: !state.register}));\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport fakeRequire from \"./API/DevHandler\";\r\nimport App from './App';\r\nimport * as Loaf from \"./API/Loaf\";\r\ndeclare let window: any;\r\nif(process.env.REACT_APP_DEV === \"true\"){\r\n    window.require = fakeRequire;\r\n}\r\nconst { remote } = window.require('electron');\r\n\r\nexport default class WindowApp extends React.Component<{}, { error: string, showError: boolean}> {\r\n    constructor(props:{}){\r\n        super(props);\r\n        this.state = {\r\n            error: '',\r\n            showError: false\r\n        }\r\n    }\r\n    minimize = () => {\r\n        remote.getCurrentWindow().minimize();\r\n    }\r\n    maximize = () => {\r\n        if(remote.getCurrentWindow().isMaximized()){\r\n            remote.getCurrentWindow().restore();\r\n        } else {\r\n            remote.getCurrentWindow().maximize();\r\n        }\r\n    }\r\n    close = () => {\r\n        remote.getCurrentWindow().close();\r\n    }\r\n    componentDidMount() {\r\n        Loaf.on('error-message', (error: string) => {\r\n            this.setState({ error, showError: true });\r\n            setTimeout(() => {\r\n                this.setState({ showError: false });\r\n            }, 5000);\r\n        });\r\n    }\r\n    render(){\r\n        return <>\r\n            <div className=\"window-bar\">\r\n                <div className=\"window-drag-bar\"></div>\r\n                <div onClick={this.minimize} className=\"app-control\">_</div>\r\n                <div onClick={this.maximize} className=\"app-control\">O</div>\r\n                <div onClick={this.close} className=\"app-control close\">X</div>\r\n            </div>\r\n            <div className={`error-message ${this.state.showError ? 'show': ''}`}>\r\n                {this.state.error}\r\n            </div>\r\n            <App />\r\n        </>\r\n    }\r\n}\r\n","\r\nimport { createMuiTheme } from \"@material-ui/core\";\r\nconst theme = createMuiTheme({\r\n    overrides: {\r\n        MuiAppBar: {\r\n            positionFixed: {\r\n                borderBottom: \"2px solid transparent\",\r\n                borderImage: \"linear-gradient(to right,  #ffd66b, #ff8b84) 3\",\r\n                boxShadow: \"none\",\r\n                left: \"0\",\r\n                right: \"auto\",\r\n            },\r\n            positionRelative: {\r\n                borderBottom: \"2px solid transparent\",\r\n                borderImage: \"linear-gradient(to right,  #ffd66b, #ff8b84) 3\",\r\n                boxShadow: \"none\",\r\n                left: \"0\",\r\n                right: \"auto\",\r\n                width: \"100%\",\r\n            },\r\n            root: {\r\n                width: \"34%\",\r\n            },\r\n        },\r\n        MuiButton: {\r\n            textPrimary: {\r\n                color: \"white\",\r\n            },\r\n        },\r\n        MuiDivider: {\r\n            inset: {\r\n                marginRight: \"72px\",\r\n            },\r\n        },\r\n        /*MuiDrawer: {\r\n            paper: {\r\n                backgroundColor: \"#2e2a27 !important\",\r\n            },\r\n        },*/\r\n        MuiListItem: {\r\n            button: {\r\n                transition: \"none !important\",\r\n            },\r\n        },\r\n        MuiListItemIcon: {\r\n            root: {\r\n                marginLeft: \"8px\",\r\n                marginRight: \"4px\",\r\n                transform: \"scale(1.2)\",\r\n            },\r\n        },\r\n        MuiTypography: {\r\n            /*subheading: {\r\n                fontWeight: 500,\r\n            },*/\r\n        },\r\n    },\r\n    palette: {\r\n        primary: {\r\n            dark: \"#161c1f\",\r\n            light: \"#39434a\",\r\n            main: \"#242b2f\",\r\n        },\r\n    },\r\n    typography: {\r\n        fontFamily: \"Montserrat\",\r\n    },\r\n});\r\n\r\nexport default theme;\r\n","import { MuiThemeProvider } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Loaf from \"./Window\";\r\nimport Theme from \"./Theme\";\r\nimport \"./Theme/styles/app.css\";\r\nimport \"./Theme/styles/fonts/montserrat.css\";\r\nimport \"./Theme/styles/index.css\";\r\n\r\nconst App = <MuiThemeProvider theme={Theme}>\r\n    <Loaf />\r\n</MuiThemeProvider>;\r\n\r\nReactDOM.render(App, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}